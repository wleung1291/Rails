
<% if action == :edit %>
  <% action_url = cat_rental_request_url(cat_rental_request)  %>
<% else %>
  <% action_url = cat_rental_requests_url %>
<% end %>

<form action="<%= action_url %>" method = "post">
  <% if action == :edit %>  
    <input type="hidden" name="_method" value="PATCH">
  <% end %>
  
  <label for="cat">Cat</label>
  <select id="cat" name="cat_rental_request[cat_id]">
    <option disabled selected>-- Select a Cat --</option>
     <% Cat.all.each do |cat| %>
      <% selected = cat_rental_request.cat_id == cat.id  %>
      <option <%= selected ? "selected" : "" %>
        value="<%= cat.id %>">
        <%= cat.name %>
      </option>
    <% end %>
    </select>
    <br>

    <label for="start_date">Start Date</label>
    <input id="start_date" type="date" name="cat_rental_request[start_date]"
      value="<%= cat_rental_request.start_date %>">
    <br>

    <label for="end_date">End Date</label>
    <input id="end_date" type="date" name="cat_rental_request[end_date]"
      value="<%= cat_rental_request.end_date %>">
    <br>
    <input type="submit" value="<%= action == :edit ? 'Edit Request' : 'Add Request' %>">

</form>